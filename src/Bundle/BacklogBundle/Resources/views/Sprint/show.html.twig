{% extends 'BacklogBundle::layout.html.twig' %}

{% block title %}{{ sprint.name }}{% endblock %}

{% block content %}
    <div id="sprint-{{ sprint.id }}" class="sprint">

        <div class="card">
            <h1 class="card-header">
                <span>{{ sprint.name }}</span>
                {% include 'BacklogBundle:Sprint:_sprintStatus.html.twig' with { 'sprint': sprint } %}
            </h1>
            <ul class="list-group list-group-flush">
                <li class="list-group-item focus-factor">
                    <span class="label">{{ "label.sprint.focus_factor"|trans() }}</span>
                    <span class="col-6">{{ focusFactor(sprint.id) * 100 ~ '%' }}</span>
                </li>
                <li class="list-group-item">
                    <span class="label">{{ "label.sprint.members"|trans() }}</span>
                    <span class="col-6 members-count">
                        <a href="{{ url('team_show', { 'teamId': sprint.team.id, 'tab': 'members' }) }}" class="badge badge-dark" >
                            {{ members|length }}
                        </a>
                    </span>
                </li>
            </ul>
            <div class="card-body">
                {% include 'BacklogBundle:Sprint:_commitmentsCard.html.twig' with { 'sprint': sprint, 'members': members } %}
            </div>

            <div class="card-footer text-muted">
                {% if sprint.started %}
                    {{ 'pages.sprint_show.date.started'|trans }}
                    <span data-toggle="tooltip" title="{{ startedAt(sprint)|date('Y-m-d') }}">{{ startedAt(sprint)|timeAgo }}</span>
                {% elseif sprint.pending %}
                    {{ 'pages.sprint_show.date.created'|trans }}
                    <span data-toggle="tooltip" title="{{ createdAt(sprint)|date('Y-m-d') }}">{{ createdAt(sprint)|timeAgo }}</span>
                {% else %}
                    {{ 'pages.sprint_show.date.ended'|trans }}
                    <span data-toggle="tooltip" title="{{ endedAt(sprint)|date('Y-m-d') }}">{{ endedAt(sprint)|timeAgo }}</span>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
